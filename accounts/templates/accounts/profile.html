{% extends 'base.html' %}
{% block main-content %}

    <div class="parent" style="background:pink;padding:16px; border-radius:37px; z-index:5;
                            width: 100%; height:auto;">

        <div class="user-detail"
             style="background:white;
              border-radius:37px;
              z-index:6;
              display:flex;
              width: 100%;
              height:240px">
                <div>
                    <h3 align="center">{{ user.username }}</h3>
                </div>

            {% if user == request.user %}
                <div>
                    <a class="btn btn-primary" style="height:30px" href=" {% url 'accounts:message' user.id %} ">Save Message</a>
                    <a class="btn btn-primary" style="height:30px" href=" {% url 'accounts:edit_profile' user.id %} ">Edit Profile</a>
                    <a class="btn btn-danger" style="height:30px" href=" {% url 'accounts:delete_account' user.id %} ">Delete account</a>
                </div>
            {% else %}
                    <a class="btn btn-primary" style="height:30px" href=" {% url 'accounts:message' user.id %} ">Message</a>
                <div>
                    {% if user.account_type == 'public' %}
                        {% if not is_following %}
                            <a class="btn btn-info" style="height:30px" href=" {% url 'accounts:follow' user.id %} ">Follow</a>
                        {% else %}
                            <a class="btn btn-Dark" style="height:30px" href=" {% url 'accounts:unfollow' user.id %} ">unfollow</a>
                            <a class="btn btn-warning" style="height:30px" href=" {% url 'accounts:report_user' user.id %} ">report</a>
                        {% endif %}
                    {% elif user.account_type == 'privet' %}
                        {% if not is_following %}
                            {% if not is_follow_requesting %}
                                <a class="btn btn-primary" style="height:30px" href=" {% url 'accounts:follow_request' user.id %} ">Follow request</a>
                            {% else %}
                                <button class="btn btn-secondary" disabled style="height:30px" >Pending</button>
                                <a class="btn btn-warning" style="height:30px" href=" {% url 'accounts:report_user' user.id %} ">report</a>
                            {% endif %}
                        {% else %}
                            <a class="btn btn-primary" style="height:30px" href=" {% url 'accounts:unfollow' user.id %} ">unfollow</a>
                            <a class="btn btn-warning" style="height:30px" href=" {% url 'accounts:report_user' user.id %} ">report</a>
                        {% endif %}
                    {% endif %}


                </div>
            {% endif %}
            <div>
                <p>follower</p>
                <a href="{% url 'accounts:follower_list' user.id %}">
                    <p>{{ user.get_follower_count }}</p>
                </a>
            </div>
            <div></div>
            <div>
                <p>following</p>
                <a href="{% url 'accounts:following_list' user.id %}">
                    <p>{{ user.get_following_count }}</p>
                </a>
            </div>

        </div>




        <div class="posts-kid" style="background:black;border-radius:37px;
              z-index:6;
              display:flex;
              width: 100%;
              height:1000px">

        </div>
    </div>

{% endblock main-content %}
